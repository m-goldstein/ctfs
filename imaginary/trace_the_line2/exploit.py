import requests
import os
def _(args,end='\n'):
    pass
debug = _
host = 'http://puzzler7.imaginaryctf.org'
port = 13337
remote = f'{host}:{port}/'
payload = '(echo -n 13371337 | md5sum | cut -b -32) > out'
try:
    os.system(f'{payload}')
    fp = open('out','r')
    r = requests.get(f'{remote}/{fp.read().rstrip()}')
    debug(f'got: [{r.status_code}]: {r.text}')
    if 'ictf{' in r.text:
        flag = r.text[r.text.index('ictf{'):r.text.index('}')+1]
        print(f'flag: {flag}')
except Exception as e:
    print(f'Exception: {e}')
finally:
    os.system('rm out')

